<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Data Visualization</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { font-family: Times, sans-serif; text-align: center; background-color: rgb(199, 245, 17); }
        .chart { margin: 20px; }
    </style>
</head>
<body>
    <div>
        <b><h1><p>Spotify Data Visualization</b></h1></p>
        <img id="MusicOne" src="C:\Users\vikto\OneDrive\Рабочий стол\333.jpg"/>
        <select id="visualization-type">
            <option value="top_artists">Top 10 Artists by Song Count</option>
            <option value="rihanna_songs">Rihanna's Song Popularity</option>
            <option value="danceability_energy">Danceability vs Energy</option>
            <option value="popular_songs">Characteristics of Popular Songs</option>
            <option value="bottom_10_loudness_valence">Bottom 10% Least Popular Songs: Loudness vs Valence</option>
            <option value="top_10_loudness_valence">Top 10% Most Popular Songs: Loudness vs Valence</option>
            <option value="top_10_songs">Top 10 Artists by Number of Songs</option>
            <option value="top_10_artists_songs">Top 10 Artists by Number of Songs</option>
        </select>
        
    </div>

    <div id="chart" class="chart"></div>

    <script>
        document.getElementById('visualization-type').addEventListener('change', function() {
            const selectedOption = this.value;
            fetchDataAndRender(selectedOption);
        });

        function fetchDataAndRender(option) {
            let url = '';
            switch(option) {
                case 'top_artists':
                    url = 'http://127.0.0.1:5000/top_artists';
                    renderTopArtists(url);
                    break;
                case 'rihanna_songs':
                    url = 'http://127.0.0.1:5000/rihanna_songs';
                    renderRihannaSongs(url);
                    break;
                case 'danceability_energy':
                    url = 'http://127.0.0.1:5000/danceability_energy';
                    renderDanceabilityEnergy(url);
                    break;
                case 'popular_songs':
                    url = 'http://127.0.0.1:5000/popular_songs';
                    renderPopularSongs(url);
                    break;
                case 'bottom_10_loudness_valence':
                    renderBottom10LoudnessValence();
                    break;
                case 'top_10_loudness_valence':
                    renderTop10LoudnessValence();
                    break;
                    case 'top_10_songs':
                    renderTop10Songs();
                    break;
                case 'top_10_artists_songs':
                    renderTop10Artists();
                    break;
            }
        }
        function renderTop10Artists() {
            var iframe = document.createElement("img");
            iframe.src = "file:///C:/Users/vikto/OneDrive/Рабочий%20стол/Project-3/Visuals_PNG/Top_10_Artists_by_Number_of_Songs.png";
            iframe.width = "80%";
            iframe.height = "400px";
            document.getElementById("chart").innerHTML = "";  // Clear previous content
            document.getElementById("chart").appendChild(iframe);
        }

        function renderTop10Songs() {
            var iframe = document.createElement("img");
            iframe.src = "file:///C://Users//vikto//OneDrive//Рабочий%20стол//Project-3//Visuals_PNG//Top_10%_Songs_Loudness_vs_Valence.png";
            iframe.width = "80%";
            iframe.height = "400px";
            document.getElementById("chart").innerHTML = "";  // Clear previous content
            document.getElementById("chart").appendChild(iframe);
        }

        function renderBottom10LoudnessValence() {
            var iframe = document.createElement("img");
            iframe.src = "file:///C://Users//vikto//OneDrive//Рабочий%20стол//GroupProject3//Project-3//bottom_10_percent_loudness_valence.html";
            iframe.width = "80%";
            iframe.height = "400px";
            document.getElementById("chart").innerHTML = "";  // Clear previous content
            document.getElementById("chart").appendChild(iframe);
        }

        function renderTop10LoudnessValence() {
            var iframe = document.createElement("iframe");
            iframe.src = "file:///C://Users//vikto//OneDrive//Рабочий%20стол//GroupProject3//Project-3//top_10_percent_loudness_valence.html";
            iframe.width = "80%";
            iframe.height = "400px";
            document.getElementById("chart").innerHTML = "";  // Clear previous content
            document.getElementById("chart").appendChild(iframe);
        }

        // Initially load the first option
        fetchDataAndRender('top_artists');
    </script>
    <style>

        #MusicOne{
            width:1400px;
           height: 100px;
        }
    
        </style>
</body>
</html>
